# 🎨 프론트엔드 구조 이해하기

## 📌 프론트엔드란?

프론트엔드는 사용자가 **직접 보고 상호작용**하는 부분입니다.
- 화면 디자인 (UI)
- 사용자 경험 (UX)
- 레스토랑으로 비유하면 **홀**과 같은 역할

## ⚛️ React 프레임워크

### React란?
- Facebook(Meta)에서 만든 JavaScript 라이브러리
- **컴포넌트** 기반 - 레고 블록처럼 조립
- 가상 DOM으로 빠른 렌더링

### 핵심 개념
```javascript
// 컴포넌트 = 재사용 가능한 UI 조각
function WelcomeMessage() {
  return <h1>안녕하세요!</h1>;
}
```

## 📂 프론트엔드 폴더 구조

### 채팅 앱 (frontend-chat)
```
frontend-chat/
├── 📁 public/              # 정적 파일
│   ├── index.html         # 메인 HTML
│   └── favicon.ico        # 아이콘
│
├── 📁 src/                # 소스 코드
│   ├── 📁 components/     # UI 컴포넌트
│   │   ├── ChatInterface.tsx   # 채팅 화면
│   │   ├── Login.tsx           # 로그인 화면
│   │   └── SessionManager.tsx  # 세션 관리
│   │
│   ├── 📁 services/       # 서버 통신
│   │   ├── api.ts         # HTTP 통신
│   │   └── websocket.ts   # 실시간 통신
│   │
│   ├── 📁 contexts/       # 전역 상태 관리
│   │   └── AuthContext.tsx    # 인증 상태
│   │
│   ├── 📁 types/          # TypeScript 타입
│   │   └── index.ts       # 타입 정의
│   │
│   ├── App.tsx            # 메인 앱 컴포넌트
│   ├── index.tsx          # 진입점
│   └── App.css            # 스타일
│
├── package.json           # 프로젝트 설정
└── tsconfig.json         # TypeScript 설정
```

### 관리자 앱 (frontend-admin)
```
frontend-admin/
├── 📁 src/
│   ├── 📁 pages/          # 각 페이지
│   │   ├── Dashboard.tsx      # 대시보드
│   │   ├── ModelManagement.tsx    # 모델 관리
│   │   ├── PromptTemplates.tsx    # 프롬프트 관리
│   │   └── RAGManagement.tsx      # RAG 관리
│   │
│   └── 📁 components/     # 공통 컴포넌트
│       └── Layout.tsx     # 레이아웃
```

## 🔑 핵심 파일 설명

### 1. App.tsx - 메인 앱 컴포넌트
```typescript
function App() {
  return (
    <Router>
      <Routes>
        <Route path="/login" element={<Login />} />
        <Route path="/chat" element={
          <PrivateRoute>
            <Chat />
          </PrivateRoute>
        } />
      </Routes>
    </Router>
  );
}
```

### 2. ChatInterface.tsx - 채팅 UI
```typescript
const ChatInterface: React.FC = () => {
  const [messages, setMessages] = useState<Message[]>([]);
  const [input, setInput] = useState('');
  
  const sendMessage = () => {
    // WebSocket으로 메시지 전송
    websocket.send(JSON.stringify({
      message: input
    }));
    
    // 화면에 메시지 추가
    setMessages([...messages, {
      content: input,
      isUser: true
    }]);
  };
  
  return (
    <div>
      <MessageList messages={messages} />
      <InputBox 
        value={input}
        onChange={setInput}
        onSend={sendMessage}
      />
    </div>
  );
};
```

### 3. api.ts - 서버 통신
```typescript
// API 기본 설정
const API_BASE_URL = 'http://localhost:8000/api';

// 로그인 함수
export const login = async (username: string) => {
  const response = await fetch(`${API_BASE_URL}/auth/login/`, {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ username })
  });
  return response.json();
};

// 세션 목록 가져오기
export const getSessions = async () => {
  const response = await fetch(`${API_BASE_URL}/sessions/`);
  return response.json();
};
```

### 4. websocket.ts - 실시간 통신
```typescript
class WebSocketService {
  private socket: WebSocket | null = null;
  
  connect(sessionId: string) {
    this.socket = new WebSocket(
      `ws://localhost:8000/ws/chat/${sessionId}/`
    );
    
    this.socket.onmessage = (event) => {
      const data = JSON.parse(event.data);
      // AI 응답 처리
      this.handleAIResponse(data);
    };
  }
  
  send(message: string) {
    if (this.socket) {
      this.socket.send(JSON.stringify({ message }));
    }
  }
}
```

## 🎨 컴포넌트 구조

```
App (최상위)
├── Router (라우팅)
│   ├── Login (로그인 페이지)
│   └── Chat (채팅 페이지)
│       ├── SessionList (세션 목록)
│       └── ChatInterface (채팅 인터페이스)
│           ├── MessageList (메시지 목록)
│           │   └── MessageItem (개별 메시지)
│           └── InputBox (입력창)
```

## 🔄 데이터 흐름

### 1. 상태 관리 (State)
```typescript
// 로컬 상태 - useState
const [messages, setMessages] = useState([]);

// 전역 상태 - Context API
const AuthContext = createContext();

function AuthProvider({ children }) {
  const [user, setUser] = useState(null);
  
  return (
    <AuthContext.Provider value={{ user, setUser }}>
      {children}
    </AuthContext.Provider>
  );
}
```

### 2. Props 전달
```typescript
// 부모 → 자식 데이터 전달
<MessageList 
  messages={messages}
  onDelete={handleDelete}
/>

// 자식 컴포넌트에서 받기
function MessageList({ messages, onDelete }) {
  return messages.map(msg => 
    <MessageItem key={msg.id} {...msg} />
  );
}
```

## 🎯 TypeScript 타입 정의

```typescript
// 메시지 타입
interface Message {
  id: string;
  content: string;
  isUser: boolean;
  timestamp: Date;
}

// 세션 타입
interface ChatSession {
  id: string;
  title: string;
  createdAt: Date;
  messages: Message[];
}

// API 응답 타입
interface ApiResponse<T> {
  data: T;
  error?: string;
}
```

## 🎨 스타일링 (CSS/Material-UI)

### CSS Modules
```css
/* ChatInterface.module.css */
.container {
  display: flex;
  flex-direction: column;
  height: 100vh;
}

.messageList {
  flex: 1;
  overflow-y: auto;
  padding: 20px;
}
```

### Material-UI 컴포넌트
```typescript
import { Button, TextField, Paper } from '@mui/material';

function ChatInput() {
  return (
    <Paper elevation={3} sx={{ p: 2 }}>
      <TextField 
        fullWidth
        placeholder="메시지를 입력하세요..."
      />
      <Button variant="contained">전송</Button>
    </Paper>
  );
}
```

## 📱 반응형 디자인

```css
/* 모바일 */
@media (max-width: 768px) {
  .container {
    padding: 10px;
  }
}

/* 태블릿 */
@media (min-width: 769px) and (max-width: 1024px) {
  .container {
    padding: 20px;
  }
}

/* 데스크톱 */
@media (min-width: 1025px) {
  .container {
    max-width: 1200px;
    margin: 0 auto;
  }
}
```

## 🚀 빌드와 배포

### 개발 모드
```bash
npm start         # 개발 서버 시작 (포트 3001)
npm test          # 테스트 실행
```

### 프로덕션 빌드
```bash
npm run build     # 최적화된 빌드 생성
# build/ 폴더에 정적 파일 생성됨
```

## 📚 학습 자료

### React 학습
- [React 공식 문서 (한국어)](https://ko.react.dev/)
- [생활코딩 React](https://opentutorials.org/module/4058)
- [노마드코더 React 무료 강의](https://nomadcoders.co/react-for-beginners)

### TypeScript 학습
- [TypeScript 공식 핸드북 (한국어)](https://typescript-kr.github.io/)
- [TypeScript 입문서](https://joshua1988.github.io/ts/)

### Material-UI
- [Material-UI 공식 문서](https://mui.com/material-ui/getting-started/)
- [Material Design 가이드](https://m3.material.io/)

### CSS/스타일링
- [CSS Tricks](https://css-tricks.com/)
- [Flexbox 게임으로 배우기](https://flexboxfroggy.com/#ko)
- [Grid 게임으로 배우기](https://cssgridgarden.com/#ko)

## 💡 실습 아이디어

1. **UI 개선하기**
   - 다크 모드 추가
   - 애니메이션 효과
   - 이모지 선택기

2. **새 기능 추가**
   - 메시지 검색
   - 파일 업로드
   - 음성 입력

3. **성능 최적화**
   - 메모이제이션 적용
   - 가상 스크롤링
   - 코드 스플리팅

## 🤔 생각해볼 문제

1. SPA(Single Page Application)의 장단점은?
2. 컴포넌트를 어떻게 나누는 것이 좋을까?
3. 상태 관리는 언제 필요할까?

---

다음 문서: [04-API-통신.md](./04-API-통신.md) 에서 서버와의 통신을 자세히 알아봐요!