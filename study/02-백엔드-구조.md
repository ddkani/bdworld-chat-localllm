# ğŸ–¥ï¸ ë°±ì—”ë“œ(ì„œë²„) êµ¬ì¡° ì´í•´í•˜ê¸°

## ğŸ“Œ ë°±ì—”ë“œë€?

ë°±ì—”ë“œëŠ” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ **ë’·ë‹¨**ì—ì„œ ì‘ë™í•˜ëŠ” ë¶€ë¶„ì…ë‹ˆë‹¤. 
- ì‚¬ìš©ìê°€ ì§ì ‘ ë³´ì§€ ëª»í•˜ëŠ” ë¶€ë¶„
- ë°ì´í„° ì²˜ë¦¬, ì €ì¥, ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ë‹´ë‹¹
- ë ˆìŠ¤í† ë‘ìœ¼ë¡œ ë¹„ìœ í•˜ë©´ **ì£¼ë°©**ê³¼ ê°™ì€ ì—­í• 

## ğŸ›ï¸ Django í”„ë ˆì„ì›Œí¬

### Djangoë€?
- Pythonìœ¼ë¡œ ë§Œë“¤ì–´ì§„ ì›¹ í”„ë ˆì„ì›Œí¬
- "ë°°í„°ë¦¬ í¬í•¨" ì² í•™ - í•„ìš”í•œ ê¸°ëŠ¥ì´ ëŒ€ë¶€ë¶„ í¬í•¨ë¨
- Instagram, Netflix ë“±ì—ì„œë„ ì‚¬ìš©

### í”„ë¡œì íŠ¸ vs ì•±
```
chat_project/          # í”„ë¡œì íŠ¸ (ì „ì²´ ì„¤ì •)
â”œâ”€â”€ chat/             # ì•± 1 (ì±„íŒ… ê¸°ëŠ¥)
â””â”€â”€ llm/              # ì•± 2 (AI ëª¨ë¸ ê¸°ëŠ¥)
```

## ğŸ“‚ ë°±ì—”ë“œ í´ë” êµ¬ì¡° ìƒì„¸

```
backend/
â”‚
â”œâ”€â”€ ğŸ“ chat_project/        # ë©”ì¸ í”„ë¡œì íŠ¸ ì„¤ì •
â”‚   â”œâ”€â”€ settings.py        # ì „ì²´ ì„¤ì • íŒŒì¼
â”‚   â”œâ”€â”€ urls.py           # URL ë¼ìš°íŒ… (ì£¼ì†Œ ì—°ê²°)
â”‚   â”œâ”€â”€ asgi.py           # ë¹„ë™ê¸° ì„œë²„ ì„¤ì •
â”‚   â””â”€â”€ wsgi.py           # ë™ê¸° ì„œë²„ ì„¤ì •
â”‚
â”œâ”€â”€ ğŸ“ chat/               # ì±„íŒ… ì•±
â”‚   â”œâ”€â”€ models.py         # ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë¸
â”‚   â”œâ”€â”€ views.py          # ìš”ì²­ ì²˜ë¦¬ ë¡œì§
â”‚   â”œâ”€â”€ serializers.py    # ë°ì´í„° ë³€í™˜
â”‚   â”œâ”€â”€ consumers.py      # WebSocket ì²˜ë¦¬
â”‚   â”œâ”€â”€ urls.py           # ì±„íŒ… URL ì„¤ì •
â”‚   â””â”€â”€ migrations/       # DB ë³€ê²½ ì´ë ¥
â”‚
â”œâ”€â”€ ğŸ“ llm/                # AI ëª¨ë¸ ì•±
â”‚   â”œâ”€â”€ models.py         # AI ê´€ë ¨ DB ëª¨ë¸
â”‚   â”œâ”€â”€ views.py          # AI API ì²˜ë¦¬
â”‚   â”œâ”€â”€ llm_service.py    # AI ëª¨ë¸ ì‹¤í–‰
â”‚   â””â”€â”€ management/       # ê´€ë¦¬ ëª…ë ¹ì–´
â”‚       â””â”€â”€ commands/
â”‚
â”œâ”€â”€ ğŸ“ models/             # AI ëª¨ë¸ íŒŒì¼ ì €ì¥
â”‚   â””â”€â”€ mistral-7b.gguf   # ì‹¤ì œ AI ëª¨ë¸
â”‚
â”œâ”€â”€ ğŸ“„ manage.py           # Django ê´€ë¦¬ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ ğŸ“„ requirements.txt    # í•„ìš”í•œ íŒ¨í‚¤ì§€ ëª©ë¡
â””â”€â”€ ğŸ“„ db.sqlite3         # ë°ì´í„°ë² ì´ìŠ¤ íŒŒì¼
```

## ğŸ”‘ í•µì‹¬ íŒŒì¼ ì„¤ëª…

### 1. settings.py - í”„ë¡œì íŠ¸ ì„¤ì •
```python
# ì„¤ì¹˜ëœ ì•±ë“¤
INSTALLED_APPS = [
    'django.contrib.admin',    # ê´€ë¦¬ì í˜ì´ì§€
    'channels',                 # ì‹¤ì‹œê°„ í†µì‹ 
    'rest_framework',          # REST API
    'chat',                    # ìš°ë¦¬ê°€ ë§Œë“  ì±„íŒ… ì•±
    'llm',                     # ìš°ë¦¬ê°€ ë§Œë“  AI ì•±
]

# ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.sqlite3',
        'NAME': BASE_DIR / 'db.sqlite3',
    }
}
```

### 2. models.py - ë°ì´í„° ëª¨ë¸
```python
# ì±„íŒ… ì„¸ì…˜ ëª¨ë¸ ì˜ˆì‹œ
class ChatSession(models.Model):
    title = models.CharField(max_length=200)  # ì„¸ì…˜ ì œëª©
    user = models.CharField(max_length=100)   # ì‚¬ìš©ì ì´ë¦„
    created_at = models.DateTimeField()       # ìƒì„± ì‹œê°„
    
# ë©”ì‹œì§€ ëª¨ë¸ ì˜ˆì‹œ
class Message(models.Model):
    session = models.ForeignKey(ChatSession)  # ì–´ëŠ ì„¸ì…˜ì˜ ë©”ì‹œì§€ì¸ì§€
    content = models.TextField()              # ë©”ì‹œì§€ ë‚´ìš©
    is_user = models.BooleanField()          # ì‚¬ìš©ì/AI êµ¬ë¶„
```

### 3. views.py - API ì²˜ë¦¬
```python
# ì„¸ì…˜ ëª©ë¡ ê°€ì ¸ì˜¤ê¸°
class SessionViewSet(viewsets.ModelViewSet):
    def list(self, request):
        sessions = ChatSession.objects.all()
        return Response(sessions)
    
    def create(self, request):
        # ìƒˆ ì„¸ì…˜ ìƒì„± ë¡œì§
        pass
```

### 4. consumers.py - WebSocket ì²˜ë¦¬
```python
class ChatConsumer(AsyncWebsocketConsumer):
    async def receive(self, text_data):
        # ì‚¬ìš©ì ë©”ì‹œì§€ ë°›ê¸°
        message = json.loads(text_data)
        
        # AI ì‘ë‹µ ìƒì„±
        ai_response = await self.generate_ai_response(message)
        
        # ì‘ë‹µ ì „ì†¡
        await self.send(text_data=json.dumps({
            'message': ai_response
        }))
```

## ğŸ”„ ìš”ì²­ ì²˜ë¦¬ íë¦„

```
1. ì‚¬ìš©ì ìš”ì²­
     â†“
2. urls.py (URL ë¼ìš°íŒ…)
     â†“
3. views.py (ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§)
     â†“
4. models.py (ë°ì´í„°ë² ì´ìŠ¤)
     â†“
5. serializers.py (ë°ì´í„° ë³€í™˜)
     â†“
6. ì‘ë‹µ ì „ì†¡
```

## ğŸ’¾ ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°

### ì£¼ìš” í…Œì´ë¸”ë“¤
1. **auth_user**: ì‚¬ìš©ì ì •ë³´
2. **chat_session**: ì±„íŒ… ì„¸ì…˜
3. **chat_message**: ë©”ì‹œì§€
4. **llm_prompttemplate**: í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿
5. **llm_ragdocument**: RAG ë¬¸ì„œ

### ê´€ê³„ë„
```
User (ì‚¬ìš©ì)
  â†“ 1:N
ChatSession (ì±„íŒ… ì„¸ì…˜)
  â†“ 1:N
Message (ë©”ì‹œì§€)
```

## ğŸš€ ì„œë²„ ì‹¤í–‰ ê³¼ì •

1. **ê°€ìƒí™˜ê²½ í™œì„±í™”**
   ```bash
   source venv/bin/activate  # Mac/Linux
   venv\Scripts\activate     # Windows
   ```

2. **ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜**
   ```bash
   python manage.py makemigrations
   python manage.py migrate
   ```

3. **ì„œë²„ ì‹œì‘**
   ```bash
   python manage.py runserver
   ```

## ğŸ”§ ì£¼ìš” Django ëª…ë ¹ì–´

| ëª…ë ¹ì–´ | ì„¤ëª… |
|--------|------|
| `python manage.py runserver` | ê°œë°œ ì„œë²„ ì‹¤í–‰ |
| `python manage.py makemigrations` | DB ë³€ê²½ì‚¬í•­ ê°ì§€ |
| `python manage.py migrate` | DB ë³€ê²½ì‚¬í•­ ì ìš© |
| `python manage.py createsuperuser` | ê´€ë¦¬ì ê³„ì • ìƒì„± |
| `python manage.py shell` | Django ì‰˜ ì‹¤í–‰ |

## ğŸŒ API ì—”ë“œí¬ì¸íŠ¸ êµ¬ì¡°

```
http://localhost:8000/
â”‚
â”œâ”€â”€ /api/
â”‚   â”œâ”€â”€ /auth/           # ì¸ì¦ ê´€ë ¨
â”‚   â”‚   â”œâ”€â”€ /login/      # ë¡œê·¸ì¸
â”‚   â”‚   â””â”€â”€ /logout/     # ë¡œê·¸ì•„ì›ƒ
â”‚   â”‚
â”‚   â”œâ”€â”€ /sessions/       # ì„¸ì…˜ ê´€ë¦¬
â”‚   â”‚   â”œâ”€â”€ GET          # ëª©ë¡ ì¡°íšŒ
â”‚   â”‚   â”œâ”€â”€ POST         # ìƒˆ ì„¸ì…˜ ìƒì„±
â”‚   â”‚   â””â”€â”€ /{id}/       # íŠ¹ì • ì„¸ì…˜
â”‚   â”‚
â”‚   â””â”€â”€ /llm/           # AI ëª¨ë¸ ê´€ë ¨
â”‚       â”œâ”€â”€ /prompts/    # í”„ë¡¬í”„íŠ¸
â”‚       â””â”€â”€ /rag/        # RAG ë¬¸ì„œ
â”‚
â””â”€â”€ /ws/                 # WebSocket
    â””â”€â”€ /chat/{session}/ # ì±„íŒ… ì—°ê²°
```

## ğŸ“š í•™ìŠµ ìë£Œ

### Django í•™ìŠµ
- [Django Girls íŠœí† ë¦¬ì–¼ (í•œêµ­ì–´)](https://tutorial.djangogirls.org/ko/)
- [Django ê³µì‹ ë¬¸ì„œ](https://docs.djangoproject.com/ko/5.0/)
- [Django REST Framework íŠœí† ë¦¬ì–¼](https://www.django-rest-framework.org/tutorial/quickstart/)

### Python ì›¹ ê°œë°œ
- [Real Python - Django íŠœí† ë¦¬ì–¼](https://realpython.com/get-started-with-django-1/)
- [íŒŒì´ì¬ ì›¹ í”„ë¡œê·¸ë˜ë°](https://wikidocs.net/book/4542)

### ë°ì´í„°ë² ì´ìŠ¤
- [SQLite íŠœí† ë¦¬ì–¼](https://www.sqlitetutorial.net/)
- [SQL ì…ë¬¸ì„œ](https://www.w3schools.com/sql/)

### WebSocket
- [Django Channels ë¬¸ì„œ](https://channels.readthedocs.io/en/stable/)
- [WebSocket ì´í•´í•˜ê¸°](https://developer.mozilla.org/ko/docs/Web/API/WebSockets_API)

## ğŸ’¡ ì‹¤ìŠµ ì•„ì´ë””ì–´

1. **ìƒˆë¡œìš´ ëª¨ë¸ ì¶”ê°€í•˜ê¸°**
   - ì‚¬ìš©ì í”„ë¡œí•„ ëª¨ë¸ ë§Œë“¤ê¸°
   - ì¦ê²¨ì°¾ê¸° ê¸°ëŠ¥ ì¶”ê°€

2. **API ì—”ë“œí¬ì¸íŠ¸ ë§Œë“¤ê¸°**
   - í†µê³„ API ì¶”ê°€
   - ê²€ìƒ‰ ê¸°ëŠ¥ êµ¬í˜„

3. **ê´€ë¦¬ì í˜ì´ì§€ ì»¤ìŠ¤í„°ë§ˆì´ì§•**
   - Django Admin ìˆ˜ì •
   - ì»¤ìŠ¤í…€ ì•¡ì…˜ ì¶”ê°€

## ğŸ¤” ìƒê°í•´ë³¼ ë¬¸ì œ

1. ì™œ í”„ë¡ íŠ¸ì—”ë“œì™€ ë°±ì—”ë“œë¥¼ ë¶„ë¦¬í• ê¹Œìš”?
2. ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì™œ í•„ìš”í• ê¹Œìš”?
3. REST APIì˜ ì¥ì ì€ ë¬´ì—‡ì¼ê¹Œìš”?

---

ë‹¤ìŒ ë¬¸ì„œ: [03-í”„ë¡ íŠ¸ì—”ë“œ-êµ¬ì¡°.md](./03-í”„ë¡ íŠ¸ì—”ë“œ-êµ¬ì¡°.md) ì—ì„œ í™”ë©´ êµ¬ì„±ì„ ì•Œì•„ë´ìš”!